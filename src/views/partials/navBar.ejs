<div class="flex flex-col items-center justify-center mt-2 mb-2 max-w-xl mx-auto">
  <div id="timer" class="text-[#abcde3] text-xs flex content-center text-center justify-center mb-0.5 p-1 backdrop-blur-xl bg-[#191222]/80 border border-[#45475a]/50 rounded-2xl"></div>
  <nav class="backdrop-blur-xl bg-[#191222]/80 border border-[#45475a]/50 rounded-2xl p-2 shadow-2xl">
    <ul class="flex items-center gap-4 mr-2 ml-2">
      <li class="nav-item">
        <a href="/classic" class="nav-link group" title="Classic Mode" data-mode="classic">
          <div class="nav-icon-container">
            <svg class="nav-icon" viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
              <path d="M 9 3 C 7.895 3 7 3.895 7 5 L 7 19 C 7 20.105 7.895 21 9 21 L 19 21 C 20.105 21 21 20.105 21 19 L 21 5 C 21 3.895 20.105 3 19 3 L 9 3 z M 3 4 L 3 20 L 5 20 L 5 4 L 3 4 z M 14 6 C 16.504 6 18 8.034 18 10 C 18 11.816 16.858391 12.840891 16.025391 13.587891 C 15.370391 14.176891 15 14.532 15 15 L 13 15 C 13 13.617 13.936453 12.775609 14.689453 12.099609 C 15.501453 11.370609 16 10.879 16 10 C 16 9.227 15.457 8 14 8 C 12.602 8 12 9.518 12 10 L 10 10 C 10 8.564 11.337 6 14 6 z M 13 16 L 15 16 L 15 18 L 13 18 L 13 16 z" />
            </svg>
            <% if (typeof isClassicComplete !== 'undefined' && isClassicComplete) { %>
            <div class="completion-indicator">
              <svg class="completion-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
              </svg>
            </div>
            <% } %>
          </div>
          <span class="nav-label">Classic</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="/quote" class="nav-link group" title="Quote Mode" data-mode="quote">
          <div class="nav-icon-container">
            <svg class="nav-icon" viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
              <path d="M 3.9980469 3 C 2.8980469 3 2.0097656 3.9 2.0097656 5 L 2 16.998047 C 2 18.103047 2.895 19 4 19 L 5.9980469 19 L 6 19 L 6 23 L 9.9980469 19 L 19.998047 19 C 21.098047 19 21.998047 18.1 21.998047 17 L 21.998047 5 C 21.998047 3.9 21.098047 3 19.998047 3 L 3.9980469 3 z M 7 8 L 11 8 L 11 11 L 11 12 L 9 15 L 7 15 L 9 12 L 7 12 L 7 8 z M 13 8 L 17 8 L 17 11 L 17 12 L 15 15 L 13 15 L 15 12 L 13 12 L 13 8 z" />
            </svg>
            <% if (typeof isQuoteComplete !== 'undefined' && isQuoteComplete) { %>
            <div class="completion-indicator">
              <svg class="completion-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
              </svg>
            </div>
            <% } %>
          </div>
          <span class="nav-label">Quote</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="/ability" class="nav-link group" title="Ability Mode" data-mode="ability">
          <div class="nav-icon-container">
            <svg class="nav-icon" viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
              <path d="M 21.26 16.87 C 19.860000000000003 16.87 19.26 16.23 19.26 14.870000000000001 C 19.26 14.593857625084604 19.0361423749154 14.370000000000001 18.76 14.370000000000001 C 18.483857625084603 14.370000000000001 18.26 14.593857625084604 18.26 14.870000000000001 C 18.26 16.240000000000002 17.64 16.87 16.26 16.87 C 15.986174652202337 16.880746434286596 15.769789206118528 17.105963939394236 15.770000000000001 17.380000000000003 C 15.775445670797163 17.65222935009499 15.99771619325151 17.87005446210025 16.270000000000003 17.87 C 16.690000000000005 17.87 18.270000000000003 17.77 18.270000000000003 19.87 C 18.270000000000003 20.1461423749154 18.493857625084605 20.37 18.770000000000003 20.37 C 19.0461423749154 20.37 19.270000000000003 20.1461423749154 19.270000000000003 19.87 C 19.390000000000004 17.470000000000002 21.270000000000003 17.87 21.270000000000003 17.87 C 21.542283806748497 17.87005446210025 21.76455432920284 17.65222935009499 21.770000000000003 17.380000000000003 C 21.770000000000003 17.244739590181833 21.71626801141364 17.11501909460336 21.620624458405143 17.01937554159486 C 21.524980905396646 16.923731988586365 21.39526040981817 16.87 21.26 16.87 Z M 10.26 5.85 C 7.51 5.85 6.26 4.529999999999999 6.26 1.8499999999999996 C 6.250096310143799 1.5763655094997613 6.033384753749409 1.3553197219774837 5.76 1.3399999999999996 C 5.483857625084603 1.3399999999999996 5.26 1.5638576250846028 5.26 1.8399999999999996 C 5.26 4.619999999999999 3.8899999999999997 5.84 1.2599999999999998 5.84 C 0.9861746522023365 5.850746434286596 0.7697892061185274 6.075963939394234 0.7699999999999998 6.35 C 0.7699725694726611 6.481707392769062 0.822967871050915 6.607880572133663 0.9170349840166847 6.700066342840117 C 1.0111020969824542 6.792252113546572 1.1383200349018159 6.8426879088896335 1.2699999999999996 6.84 C 3.96 6.84 5.27 8.1 5.27 10.84 C 5.27544567079716 11.11222935009499 5.497716193251506 11.330054462100248 5.77 11.33 C 6.036860517302661 11.335667343699706 6.259165450170641 11.126700706803806 6.27 10.86 C 6.409999999999999 8.04 7.7299999999999995 6.859999999999999 10.27 6.859999999999999 C 10.401679965098182 6.862687908889633 10.528897903017546 6.812252113546571 10.622965015983315 6.720066342840116 C 10.717032128949084 6.627880572133662 10.770027430527339 6.501707392769061 10.77 6.369999999999999 C 10.772686492457655 6.233015354511598 10.720142835611 6.100710953990561 10.624206555609646 6.0028935704597695 C 10.528270275608293 5.905076186928977 10.397010983674575 5.84997365928179 10.26 5.85 Z M 21.45 10.93 C 22.603532875410767 9.77825419421185 23.251731336120365 8.215078677795653 23.251731336120365 6.584999999999999 C 23.25173133612036 4.954921322204345 22.603532875410767 3.3917458057881475 21.45 2.2399999999999984 C 19.937292511639875 0.7187429267571845 17.590176681671938 0.4060785848934234 15.731987514990397 1.4782912732437588 C 13.873798348308856 2.550503961594094 12.969931879430897 4.7390507663020145 13.530000000000001 6.810000000000003 C 13.85436374471223 7.77135739081432 14.870723716286346 8.31440220901343 15.850184607871752 8.049683049125484 C 16.829645499457158 7.784963889237536 17.434075477986912 6.803867733172514 17.23 5.8100000000000005 C 17.141895971098574 5.496657425961141 17.22984391294173 5.16016095282212 17.46 4.930000000000001 C 17.82215376993013 4.5883927463882275 18.387846230069872 4.588392746388228 18.75 4.930000000000001 C 19.18785140635018 5.365446023506496 19.434036980858064 5.957483122959015 19.434036980858064 6.575 C 19.434036980858064 7.192516877040985 19.18785140635018 7.784553976493504 18.75 8.219999999999999 C 17.90604274695352 9.027661747903068 16.734636232457323 9.397190616829313 15.579999999999998 9.22 C 13.715814335783785 8.970885172637594 11.84784812143301 9.650824874661277 10.580000000000004 11.039999999999997 C 9.642927083245347 11.971755186664497 8.922535246068986 13.098434363291034 8.469999999999999 14.340000000000002 C 7.540000000000001 16.85 4.870000000000001 19.52 2.8000000000000007 21.34 C 2.4186612803892764 21.66902716493332 2.341538009021434 22.230313195443724 2.6200000000000006 22.65 C 2.89495719913688 23.06316952596977 3.4313389191504706 23.212164448195768 3.88 23 L 3.88 23 C 10.8 19.56 11.43 17.56 11.879999999999999 16.09 C 12.155181433182506 15.11303058220716 12.699161501835933 14.232960916997156 13.449999999999998 13.550000000000002 C 13.86441102989845 13.158524694661134 14.436872857918393 12.981246193080764 15 13.07 C 17.366801440544812 13.40956165604489 19.755579131820088 12.6170059569241 21.449999999999996 10.930000000000003 Z" />
            </svg>
            <% if (typeof isAbilityComplete !== 'undefined' && isAbilityComplete) { %>
            <div class="completion-indicator">
              <svg class="completion-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
              </svg>
            </div>
            <% } %>
          </div>
          <span class="nav-label">Ability</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="/emoji" class="nav-link group" title="Emoji Mode" data-mode="emoji">
          <div class="nav-icon-container">
            <svg class="nav-icon" viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>
              <path d="M 16 3 C 8.832 3 3 8.832 3 16 C 3 23.168 8.832 29 16 29 C 23.168 29 29 23.168 29 16 C 29 8.832 23.168 3 16 3 z M 16 5 C 22.065 5 27 9.935 27 16 C 27 22.065 22.065 27 16 27 C 9.935 27 5 22.065 5 16 C 5 9.935 9.935 5 16 5 z M 9.7070312 10.292969 L 8.2929688 11.707031 L 10.085938 13.5 L 8.2929688 15.292969 L 9.7070312 16.707031 L 11.5 14.914062 L 13.292969 16.707031 L 14.707031 15.292969 L 12.914062 13.5 L 14.707031 11.707031 L 13.292969 10.292969 L 11.5 12.085938 L 9.7070312 10.292969 z M 18.707031 10.292969 L 17.292969 11.707031 L 19.085938 13.5 L 17.292969 15.292969 L 18.707031 16.707031 L 20.5 14.914062 L 22.292969 16.707031 L 23.707031 15.292969 L 21.914062 13.5 L 23.707031 11.707031 L 22.292969 10.292969 L 20.5 12.085938 L 18.707031 10.292969 z M 16 18 C 13.794 18 12 19.525391 12 21.400391 C 12 23.125391 13.346 24 16 24 C 18.654 24 20 23.125391 20 21.400391 C 20 19.525391 18.206 18 16 18 z M 16 20 C 17.084 20 18 20.641391 18 21.400391 C 18 21.564391 18 22 16 22 C 14 22 14 21.564391 14 21.400391 C 14 20.641391 14.916 20 16 20 z" />
            </svg>
            <% if (typeof isEmojiComplete !== 'undefined' && isEmojiComplete) { %>
            <div class="completion-indicator">
              <svg class="completion-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
              </svg>
            </div>
            <% } %>
          </div>
          <span class="nav-label">Emoji</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="/splash" class="nav-link group" title="Splash Mode" data-mode="splash">
          <div class="nav-icon-container">
            <svg class="nav-icon" id='Full_Image_24' width='24' height='24' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
              <rect width='24' height='24' stroke='none' fill='#000000' opacity='0' />
              <g transform="matrix(0.77 0 0 0.77 12 12)">
                <path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill-rule: nonzero; opacity: 1;" transform=" translate(-16, -16)" d="M 3 6 L 3 26 L 29 26 L 29 6 Z M 5 8 L 27 8 L 27 21.5625 L 19.21875 13.78125 L 18.5 13.09375 L 17.78125 13.78125 L 15.5 16.0625 L 11.71875 12.28125 L 11 11.59375 L 10.28125 12.28125 L 5 17.5625 Z M 22.5 9 C 21.132813 9 20 10.132813 20 11.5 C 20 12.867188 21.132813 14 22.5 14 C 23.867188 14 25 12.867188 25 11.5 C 25 10.132813 23.867188 9 22.5 9 Z M 22.5 11 C 22.789063 11 23 11.210938 23 11.5 C 23 11.789063 22.789063 12 22.5 12 C 22.210938 12 22 11.789063 22 11.5 C 22 11.210938 22.210938 11 22.5 11 Z M 11 14.4375 L 14.0625 17.5 L 7.5625 24 L 5 24 L 5 20.4375 Z M 18.5 15.9375 L 26.5625 24 L 10.4375 24 Z" stroke-linecap="round" />
              </g>
            </svg>
            <% if (typeof isSplashComplete !== 'undefined' && isSplashComplete) { %>
            <div class="completion-indicator">
              <svg class="completion-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
              </svg>
            </div>
            <% } %>
          </div>
          <span class="nav-label">Splash</span>
        </a>
      </li>
    </ul>
  </nav>
</div>

<script id="timer-data" type="application/json">
  <%= secondsUntilReset %>
</script>
<script src="/scripts/timerScript.js"></script>


<script>
  // Add active state management
  document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(link => {
      const href = link.getAttribute('href');
      if (currentPath === href) {
        link.classList.add('active');
      }
    });

  });
</script>